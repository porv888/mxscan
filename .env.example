APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_TIMEZONE=UTC
APP_URL=http://localhost

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=4

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=sqlite
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=laravel
# DB_USERNAME=root
# DB_PASSWORD=

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

CACHE_STORE=database
CACHE_PREFIX=

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

VITE_APP_NAME="${APP_NAME}"

# Stripe (Billing)
STRIPE_KEY=
STRIPE_SECRET=
STRIPE_WEBHOOK_SECRET=

# Stripe Price IDs (monthly)
STRIPE_PRICE_PREMIUM_MONTHLY=
STRIPE_PRICE_ULTRA_MONTHLY=

# Optional Yearly prices
# STRIPE_PRICE_PREMIUM_YEARLY=
# STRIPE_PRICE_ULTRA_YEARLY=

# DMARC Ingestion Configuration
# Turn poller on/off without redeploy
MAIL_POLL_ENABLED=true

# IMAP creds (your DMARC receiving mailbox)
DMARC_IMAP_HOST=mxscan.me
DMARC_IMAP_PORT=993
DMARC_IMAP_ENCRYPTION=ssl
DMARC_IMAP_USERNAME=hello@mxscan.me
DMARC_IMAP_PASSWORD=YOUR_SMTP_PASSWORD

# Optional: how often to poll (minutes) - controlled by scheduler
DMARC_POLL_EVERY=5

# Where to POST files after saving (or leave blank to use a Job instead)
DMARC_FORWARD_URL=https://app.mxscan.me/api/dmarc/upload
DMARC_FORWARD_TOKEN=

# Storage base folder (relative to storage_path())
DMARC_STORAGE_DIR=dmarc

# Maximum attachments per run to avoid overloading
DMARC_MAX_ATTACHMENTS=50

# ============================================================================
# Expiry Detection Configuration
# ============================================================================

# Master toggle for expiry detection
EXPIRY_ENABLE=true

# Domain Expiry Providers (best → fallback)
EXPIRY_RDAP_ENABLE=true                    # Registry-specific RDAP (preferred)
EXPIRY_RDAP_AGG_ENABLE=true                # RDAP aggregator (rdap.org) fallback
EXPIRY_RDAP_AGG_URL=https://rdap.org/domain

# WHOIS API Provider (optional, for ccTLDs without RDAP)
EXPIRY_WHOIS_API_ENABLE=false
WHOIS_API_PROVIDER=whoisxmlapi
WHOIS_API_KEY=

# TCP WHOIS - Direct queries to WHOIS servers (open source, free, recommended)
EXPIRY_TCP_WHOIS_ENABLE=true

# Local whois binary (requires whois command installed)
EXPIRY_WHOIS_BINARY=false                             # API key for chosen provider

# SSL Expiry Providers (best → fallback)
EXPIRY_SSL_LIVE_ENABLE=true                # Live TLS handshake with SNI (preferred)
EXPIRY_SSL_CT_ENABLE=false                 # Certificate Transparency fallback
CERTSPOTTER_TOKEN=                         # SSLMate Cert Spotter API token (if using CT)
CRT_SH_ENABLE=false                        # Use crt.sh as CT source (rate-limited)

# Timeouts & Limits
EXPIRY_HTTP_TIMEOUT=8                      # HTTP request timeout (seconds)
EXPIRY_CONNECT_TIMEOUT=8                   # TLS connect timeout (seconds)
EXPIRY_RETRY_BACKOFF=300                   # Backoff before retrying failed source (seconds)

# Job Scheduling
EXPIRY_DAILY_AT=03:10                      # Daily detection time (HH:MM)
EXPIRY_ALERT_THRESHOLDS=30,14,7,3,1        # Days before expiry to send alerts

# Behavior
EXPIRY_ALLOW_OVERWRITE=true                # Allow auto-detection to overwrite manual values
EXPIRY_CHUNK_SIZE_SSL=200                  # Domains per chunk for SSL detection
EXPIRY_CHUNK_SIZE_DOMAIN=100               # Domains per chunk for domain detection

# ============================================================================
# Expiry Reminder Emails (D-30, D-3, D-0)
# ============================================================================

# Master toggle for reminder emails
REMINDERS_ENABLE=true

# Time to send reminders daily (HH:MM format)
REMINDERS_SEND_AT=03:40

# Thresholds in days (comma-separated: 30, 3, 0)
REMINDERS_THRESHOLDS=30,3,0

# Email settings (uses MAIL_FROM_ADDRESS and MAIL_FROM_NAME by default)
# MAIL_FROM_ADDRESS=noreply@mxscan.me
# MAIL_FROM_NAME=MXScan

